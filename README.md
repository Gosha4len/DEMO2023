# DEMO2023
![Static Badge](https://img.shields.io/badge/Debian-12-a80030) ![Static Badge](https://img.shields.io/badge/Windows-10-0079d7) ![Static Badge](https://img.shields.io/badge/Windows-Server%202022-001190) ![Static Badge](https://img.shields.io/badge/Cisco-CSR-00a0da)

| [–ú–∏–Ω–∏-–∫–æ–º–ø–µ–Ω–¥–∏—É–ºüìö](https://telegra.ph/Mini-kompendium-po-DEMO2023-09-27 "–°–±–æ—Ä–Ω–∏–∫ –æ–ø–∏—Å–∞–Ω–∏–π –∫–æ–º–∞–Ω–¥, —É—Ç–∏–ª–∏—Ç –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π") |


# –û–±—Ä–∞–∑–µ—Ü –∑–∞–¥–∞–Ω–∏—è
–û–±—Ä–∞–∑–µ—Ü –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —ç–∫–∑–∞–º–µ–Ω–∞ –ø–æ –∫–æ–º–ø–ª–µ–∫—Ç—É –æ—Ü–µ–Ω–æ—á–Ω–æ–π
–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

![image](/screenshots/scheme_logo4.png)


## –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã –∏ –∫–æ–º–º—É—Ç–∞—Ü–∏—è.
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –±–∞–∑–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö
–º–∞—à–∏–Ω.

1. –ù–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –í–ú –∏–ª–∏ —à–∞–±–ª–æ–Ω–æ–≤ –í–ú —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ö–µ–º–æ–π.  
   -	–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –í–ú —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¢–∞–±–ª–∏—Ü–µ–π 1;
   -	–ö–æ–º–º—É—Ç–∞—Ü–∏—é (–µ—Å–ª–∏ —Ç–∞–∫–æ–≤–∞—è –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞) –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ö–µ–º–æ–π —Å–µ—Ç–∏.	 
2.  –ò–º–µ–Ω–∞ —Ö–æ—Å—Ç–æ–≤ –≤ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –í–ú –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ö–µ–º–æ–π.
3.  –ê–¥—Ä–µ—Å–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¢–∞–±–ª–∏—Ü–µ–π 1;
4.  –û–±–µ—Å–ø–µ—á—å—Ç–µ –í–ú –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∏—Å–∫–∞–º–∏, –µ—Å–ª–∏ —Ç–∞–∫–æ–≤–æ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¢–∞–±–ª–∏—Ü–µ–π 1;

## –¢–∞–±–ª–∏—Ü–∞ 1. –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –í–ú

|Name VM         |–û–°                  |RAM             |CPU             |IP                    |Additionally                       |
|  ------------- | -------------      | -------------  |  ------------- |  -------------       |  -------------                    |  
|RTR-L           |Cisco CSR           |4 GB            |1               |4.4.4.100/24          |                                   |
|                |                    |                |                |192.168.100.254/24    |                                   |
|RTR-R           |Cisco CSR           |4 GB            |1               |5.5.5.100/24          |                                   |
|                |                    |                |                |172.16.100.254 /24    |                                   |
|SRV             |WS 2022             |2 GB            |1               |192.168.100.200/24    |–î–æ–ø –¥–∏—Å–∫–∏ 2 —à—Ç –ø–æ 1 GB             |
|WEB-L           |Debian 12           |1 GB            |1               |192.168.100.100/24    |                                   |
|WEB-R           |Debian 12           |1 GB            |1               |172.16.100.100/24     |                                   |
|ISP             |Debian 12           |2 GB            |1               |4.4.4.1/24            |                                   |
|                |                    |                |                |5.5.5.1/24            |                                   |
|                |                    |                |                |3.3.3.1/24            |                                   |
|CLI             |Win 10              |1 GB            |1               |3.3.3.10/24           |                                   |


### 1. –ù–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –í–ú –∏–ª–∏ —à–∞–±–ª–æ–Ω–æ–≤ –í–ú —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ö–µ–º–æ–π.
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –í–ú —Å–æ–∑–¥–∞–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ö–µ–º–æ–π 

![image](/screenshots/vm.png)


### 2.  –ò–º–µ–Ω–∞ —Ö–æ—Å—Ç–æ–≤ –≤ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –í–ú –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ö–µ–º–æ–π.

### 3.  –ê–¥—Ä–µ—Å–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¢–∞–±–ª–∏—Ü–µ–π 1;

#### CLI
1. "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ö–æ—Å—Ç–Ω–µ–π–º–∞"
```
1) –õ–ö–ú –ø–æ –∑–Ω–∞—á–∫—É Windows 
   2) Windows PowerShell
      3) –≤–≤–æ–¥–∏–º –∫–æ–º–∞–Ω–¥—É rename-computer -newname CLI
         4) –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º VM
```
2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏"
```
1) –ü–ö–ú –ø–æ –∏–∫–æ–Ω–∫–µ Network
   2) Open Network & Internet settings
      3) Change adapter options
       5) –ü–ö–ú –ø–æ —Å–µ—Ç–µ–≤–æ–º—É –∞–¥–∞–ø—Ç–µ—Ä—É
         6) –í—ã–±–∏—Ä–∞–µ—Ç–µ –≤–∞—à —Å–µ—Ç–µ–≤–æ–π –∞–¥–∞–ø—Ç–µ—Ä –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç–µ –µ–≥–æ:
```
![image](/screenshots/cli_ipv4.png)

#### ISP

–ü–æ–¥–∫–ª—é—á–∏—Ç—å DVD debian-BD-1.iso

```
apt-cdrom add
apt install network-manager -y
```
1. "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ö–æ—Å—Ç–Ω–µ–π–º–∞"
```
1) root@debian:~# nmtui
   2) Set system hostname
      3) –í—ã–¥–∞—ë–º –∏–º—è ISP
         4) OK
            5) Quit
               6) root@debian:~# bash
```
2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏"
```
1) root@ISP:~# nmtui
   2) Edit a connection
      3) Wired connection 3
         4) IPv4 CONFIGURATION —Å—Ç–∞–≤–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ  <Manual>
            5) –ó–∞–ø–æ–ª–Ω—è–µ–º:
```
![image](/screenshots/isp_ens256.png)
```
6) OK
   7) Wired connection 2
      8) IPv4 CONFIGURATION —Å—Ç–∞–≤–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ  <Manual>
         9)  –ó–∞–ø–æ–ª–Ω—è–µ–º:
```
![image](/screenshots/isp_ens224.png)
```
10) OK
   11) Wired connection 2
      12) IPv4 CONFIGURATION —Å—Ç–∞–≤–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ  <Manual>
         13)  –ó–∞–ø–æ–ª–Ω—è–µ–º:
```
![image](/screenshots/isp_ens192.png)
```
11) OK
   12) Back
      13) Quit
```
3. "–ü—Ä–æ–≤–µ—Ä–∫–∞ ip-–∞–¥—Ä–µ—Å–æ–≤"
```
root@ISP:~# ip a
```
![image](/screenshots/isp_ipa.png)

#### RTR-L
1. "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ö–æ—Å—Ç–Ω–µ–π–º–∞"
```
router>
router>en
router#conf t
router(config)#hostname RTR-L
```
2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏"
```
RTR-L(config)#int gi1
RTR-L(config-if)#ip add 4.4.4.100 255.255.255.0
RTR-L(config-if)#no sh
```
```
RTR-L(config)#int gi2
RTR-L(config-if)#ip add 192.168.100.254 255.255.255.0
RTR-L(config-if)#no sh
```
3. "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –∏ ip-–∞–¥—Ä–µ—Å–æ–≤"
```
RTR-L#sh ip int b
```
![image](/screenshots/rtr-l_sh1.png)
#### RTR-R
1. "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ö–æ—Å—Ç–Ω–µ–π–º–∞"
```
router>
router>en
router#conf t
router(config)#hostname RTR-R
```
2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏"
```
RTR-R(config)#int gi1
RTR-R(config-if)#ip add 5.5.5.100 255.255.255.0
RTR-R(config-if)#no sh
```
```
RTR-R(config)#int gi2
RTR-R(config-if)#ip add 172.16.100.254 255.255.255.0
RTR-R(config-if)#no sh
```
3. "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –∏ ip-–∞–¥—Ä–µ—Å–æ–≤"
```
RTR-L#sh ip int b
```
![image](/screenshots/rtr-r_sh1.png)

#### WEB-L

–ü–æ–¥–∫–ª—é—á–∏—Ç—å DVD debian-BD-1.iso

```
apt-cdrom add
apt install network-manager -y
```
1. "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ö–æ—Å—Ç–Ω–µ–π–º–∞"
```
1) root@debian:~# nmtui
   2) Set system hostname
      3) –í—ã–¥–∞—ë–º –∏–º—è WEB-L
         4) OK
            5) Quit
               6) root@debian:~# bash
```
2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏"
```
1) root@WEB-L:~# nmtui
   2) Edit a connection
      3) Wired connection 1
         4) IPv4 CONFIGURATION —Å—Ç–∞–≤–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ  <Manual>
            5) –ó–∞–ø–æ–ª–Ω—è–µ–º:
```
![image](/screenshots/web-l_ens192.png)
```
6) OK
   7) Back
      8) Quit
```
3. "–ü—Ä–æ–≤–µ—Ä–∫–∞ ip-–∞–¥—Ä–µ—Å–æ–≤"
```
root@WEB-L:~# ip a
```
![image](/screenshots/web-l_ipa1.png)

#### SRV
1. "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ö–æ—Å—Ç–Ω–µ–π–º–∞"
```
1) WIN + R
   2) –≤–≤–æ–¥–∏–º sconfig
      4) –≤–≤–æ–¥–∏–º —á–∏—Å–ª–æ 2 (Computer Name):
```
![image](/screenshots/srv_sconfig1.png)
```
5) –≤–≤–æ–¥–∏–º —Ö–æ—Å—Ç–Ω–µ–π–º SRV:
```
![image](/screenshots/srv_sconfig2.png)
```
6) –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º VM
```      
2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏"
```
1) WIN + R
   2) –≤–≤–æ–¥–∏–º sconfig
      3) –≤–≤–æ–¥–∏–º –∫–æ–º–∞–Ω–¥—É sconfig
         4) –≤–≤–æ–¥–∏–º —á–∏—Å–ª–æ 8 (Network Settings):
```
![images](/screenshots/srv_sconfig3.png)
```
5) –≤—ã–±–∏—Ä–∞–µ–º —Å–µ—Ç–µ–≤–æ–π –∞–¥–∞–ø—Ç–µ—Ä 1:
```
![images](/screenshots/srv_sconfig4.png)
```
6) –ø–∏—à–µ–º S, —Å—Ç–∞–≤–∏–º —Å—Ç–∞—Ç–∏–∫—É, –≤—ã–¥–∞—ë–º ip-–∞–¥—Ä–µ—Å, –º–∞—Å–∫—É, gateway:
```
![images](/screenshots/srv_sconfig5.png)
```
7) –≤–≤–æ–¥–∏–º —á–∏—Å–ª–æ 2 (Set DNS Servers), –≤–≤–æ–¥–∏–º –æ—Å–Ω–æ–≤–Ω–æ–π DNS —Å–µ—Ä–≤–µ—Ä –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π:
```
![images](/screenshots/srv_sconfig6.png)

3. "–û—Ç–∫–ª—é—á–µ–Ω–∏–µ Firewall`a"
```
1) WIN + R
   2) –≤–≤–æ–¥–∏–º powershell
      3) –≤–≤–æ–¥–∏–º –∫–æ–º–∞–Ω–¥—É: 
```
![image](/screenshots/srv_firewall.png)
#### WEB-R
```
1) root@debian:~# nmtui
   2) Set system hostname
      3) –í—ã–¥–∞—ë–º –∏–º—è WEB-R
         4) OK
            5) Quit
               6) root@debian:~# bash
```
2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏"
```
1) root@WEB-R:~# nmtui
   2) Edit a connection
      3) Wired connection 1
         4) IPv4 CONFIGURATION —Å—Ç–∞–≤–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ <Manual>
            5) –ó–∞–ø–æ–ª–Ω—è–µ–º:
```
![image](/screenshots/web-r_ens192.png)
```
6) OK
   7) Back
      8) Quit
```
3. "–ü—Ä–æ–≤–µ—Ä–∫–∞ ip-–∞–¥—Ä–µ—Å–æ–≤"
```
root@WEB-R:~# ip a
```
![image](/screenshots/web-r_ipa1.png)


## –°–µ—Ç–µ–≤–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å.
–í —Ä–∞–º–∫–∞—Ö –¥–∞–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É
—Ä–µ–≥–∏–æ–Ω–∞–º–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≤—ã—Ö–æ–¥ –í–ú –≤ –∏–º–∏—Ç–∏—Ä—É–µ–º—É—é
—Å–µ—Ç—å ‚Äú–ò–Ω—Ç–µ—Ä–Ω–µ—Ç‚Äù

1. –°–µ—Ç–∏, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫ ISP, —Å—á–∏—Ç–∞—é—Ç—Å—è –≤–Ω–µ—à–Ω–∏–º–∏:
   - –ó–∞–ø—Ä–µ—â–µ–Ω–æ –ø—Ä—è–º–æ–µ –ø–æ–ø–∞–¥–∞–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ç–µ–π –≤–æ –≤–Ω–µ—à–Ω–∏–µ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç;
2. –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è —Ç—Ä–∞—Ñ–∏–∫–∞, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤, –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é —Ç—Ä–∞—Ñ–∏–∫–∞, –∏–¥—É—â–µ–≥–æ –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ç–µ–π –≤–æ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ç–∏ —Å—Ç–µ–Ω–¥–∞ –∏ –≤ —Å–µ—Ç—å –ò–Ω—Ç–µ—Ä–Ω–µ—Ç.
   - –¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è –∏—Å—Ö–æ–¥—è—â–∏—Ö –∞–¥—Ä–µ—Å–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ –∞–¥—Ä–µ—Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –≤–æ –≤–Ω–µ—à–Ω–µ–π —Å–µ—Ç–∏.    
3. –ú–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∑–∞—â–∏—â–µ–Ω–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É —Ä–µ–≥–∏–æ–Ω–∞–º–∏ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤.
   - –¢—Ä–∞—Ñ–∏–∫, –ø—Ä–æ—Ö–æ–¥—è—â–∏–π –ø–æ –¥–∞–Ω–Ω–æ–º—É —Ç—É–Ω–Ω–µ–ª—é, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω:
     - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ ISP –Ω–µ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–∫–µ—Ç–æ–≤, –∏–¥—É—â–∏—Ö –∏–∑ –æ–¥–Ω–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏ –≤ –¥—Ä—É–≥—É—é.
   - –¢—É–Ω–Ω–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–∑–≤–æ–ª—è—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º –ø–æ –∏—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∞–¥—Ä–µ—Å–∞–º
     - –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ –≤–Ω–µ—à–Ω–∏–º –∞–¥—Ä–µ—Å–∞–º –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç—É–Ω–Ω–µ–ª—è –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
   - –¢—Ä–∞—Ñ–∏–∫, –∏–¥—É—â–∏–π –ø–æ —Ç—É–Ω–Ω–µ–ª—é –º–µ–∂–¥—É —Ä–µ–≥–∏–æ–Ω–∞–º–∏ –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∞–¥—Ä–µ—Å–∞–º, –Ω–µ –¥–æ–ª–∂–µ–Ω —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è.
 4. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º RTR-L –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∞–≤–∏–ª–∞–º:
    - –†–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ø–æ—Ä—Ç–∞–º DNS, HTTP –∏ HTTPS –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤;
      - –ü–æ—Ä—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Å–ª—É–∂–±
    - –†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏; 
      - –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É ‚Äú–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ‚Äù
    - –†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ ICMP;
    - –†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ SSH;
    - –ü—Ä–æ—á–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω—ã;
    - –î–ª—è –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Ö–æ—Å—Ç–æ–≤, –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –≤–Ω—É—Ç—Ä–∏ —Ä–µ–≥–∏–æ–Ω–æ–≤, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ;
5. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º RTR-R –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∞–≤–∏–ª–∞–º:
   - –†–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ø–æ—Ä—Ç–∞–º HTTP –∏ HTTPS –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤;
     - –ü–æ—Ä—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Å–ª—É–∂–±
   - –†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏;
     - –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ‚Äù
   - –†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ ICMP;
   - –†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ SSH;
   - –ü—Ä–æ—á–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω—ã;
   - –î–ª—è –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Ö–æ—Å—Ç–æ–≤, –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –≤–Ω—É—Ç—Ä–∏ —Ä–µ–≥–∏–æ–Ω–æ–≤, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ;
6. –û–±–µ—Å–ø–µ—á—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å–ª—É–∂–± SSH —Ä–µ–≥–∏–æ–Ω–∞ Left:
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ç–µ–π –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º RTR-L –Ω–∞ –ø–æ—Ä—Ç 2222 –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –í–ú Web-L;
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ç–µ–π –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º RTR-R –Ω–∞ –ø–æ—Ä—Ç 2244 –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –í–ú Web-R;

### 1. –°–µ—Ç–∏, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫ ISP, —Å—á–∏—Ç–∞—é—Ç—Å—è –≤–Ω–µ—à–Ω–∏–º–∏:
#### ISP forward
```
1) root@ISP:~# nano /etc/sysctl.conf
   2) —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ—á–∫—É net.ipv4.ip_forward=1 :
```
![image](/screenshots/isp_1.png)
```
3) Ctrl + x
   4) Ctrl + y
      5) Enter
         6)root@ISP:~# sysctl -p
```
#### RTR-L Gateway
```
RTR-L(config)#ip route 0.0.0.0 0.0.0.0 4.4.4.1
```
#### RTR-R Gateway
```
RTR-R(config)#ip route 0.0.0.0 0.0.0.0 5.5.5.1
```
### 2. –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è —Ç—Ä–∞—Ñ–∏–∫–∞, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤, –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é —Ç—Ä–∞—Ñ–∏–∫–∞, –∏–¥—É—â–µ–≥–æ –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ç–µ–π –≤–æ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ç–∏ —Å—Ç–µ–Ω–¥–∞ –∏ –≤ —Å–µ—Ç—å –ò–Ω—Ç–µ—Ä–Ω–µ—Ç.
#### NAT
–Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ - ip nat inside

–Ω–∞ –≤–Ω–µ—à–Ω–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ - ip nat outside
#### RTR-L NAT
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ NAT"
```
RTR-L(config)#int gi1
RTR-L(config-if)#ip nat outside

RTR-L(config)#int gi2
RTR-L(config-if)#ip nat inside

RTR-L(config)#access-list 1 permit 192.168.100.0 0.0.0.255
RTR-L(config)#ip nat inside source list 1 int gi1 overload
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ NAT" 
```
–í—ã –¥–æ–ª–∂–Ω—ã ping`–æ–≤–∞—Ç—å —Å WEB-L –¥–æ ISP:
```
![image](/screenshots/web-l_nat_ping.png)
#### RTR-R NAT
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ NAT"
```
RTR-R(config)#int gi1
RTR-R(config-if)#ip nat outside

RTR-R(config)#int gi2
RTR-R(config-if)#ip nat inside

RTR-R(config)#access-list 1 permit 172.16.100.0 0.0.0.255
RTR-R(config)#ip nat inside source list 1 int gi1 overload
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ NAT"
```
–í—ã –¥–æ–ª–∂–Ω—ã ping`–æ–≤–∞—Ç—å —Å WEB-R –¥–æ ISP:
```
![image](/screenshots/web-r_nat_ping.png)
### 3. –ú–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∑–∞—â–∏—â–µ–Ω–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É —Ä–µ–≥–∏–æ–Ω–∞–º–∏ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤.
#### RTR-L GRE
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ GRE"
```
RTR-L(config)#int tun1
RTR-L(config-if)#ip address 172.16.1.1 255.255.255.0
RTR-L(config-if)#tunnel mode gre ip
RTR-L(config-if)#tunnel source 4.4.4.100
RTR-L(config-if)#tunnel destination 5.5.5.100

RTR-L(config)#router eigrp 1
RTR-L(config-router)#network 192.168.100.0 0.0.0.255
RTR-L(config-router)#network 172.16.1.0 0.0.0.255
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ GRE —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤"
```
–í—ã –¥–æ–ª–∂–Ω—ã ping`–æ–≤–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–∑ –ø–æ–¥—Å–µ—Ç–∏ 192.168.100.0 –¥–æ 172.16.100.0 :
```
![image](/screenshots/web-l_gre_ping.png)
#### RTR-R GRE
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ GRE"
```
RTR-R(config)#int tun1
RTR-R(config-if)#ip address 172.16.1.2 255.255.255.0
RTR-R(config-if)#tunnel mode gre ip
RTR-R(config-if)#tunnel source 5.5.5.100
RTR-R(config-if)#tunnel destination 4.4.4.100

RTR-R(config)#router eigrp 1
RTR-R(config-router)#network 172.16.100.0 0.0.0.255
RTR-R(config-router)#network 172.16.1.0 0.0.0.255
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ GRE —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤"
```
–í—ã –¥–æ–ª–∂–Ω—ã ping`–æ–≤–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–∑ –ø–æ–¥—Å–µ—Ç–∏ 172.16.100.0 –¥–æ 192.168.100.0 :
```
![image](/screenshots/web-r_gre_ping.png)
![image](/screenshots/web-r_gre_ping2.png)
#### RTR-L IPSec
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ IPSec"
```
RTR-L(config)#crypto isakmp policy 1
RTR-L(config-isakmp)#encr aes
RTR-L(config-isakmp)#authentication pre-share
RTR-L(config-isakmp)#hash sha256
RTR-L(config-isakmp)#group 14

RTR-L(config)#crypto isakmp key secret address 5.5.5.100
RTR-L(config)#crypto isakmp nat keepalive 5
RTR-L(config)#crypto ipsec transform-set IPSEC esp-aes 256 esp-sha256-hmac
RTR-L(cfg-crypto-trans)#mode tunnel

RTR-L(config)#crypto ipsec profile VTI
RTR-L(ipsec-profile)#set transform-set IPSEC

RTR-L(config)#int tun1
RTR-L(config)#tunnel mode ipsec ipv4
RTR-L(config)#tunnel protection ipsec profile VTI
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ IPSec —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤"
```
–í—ã –¥–æ–ª–∂–Ω—ã ping`–æ–≤–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–∑ –ø–æ–¥—Å–µ—Ç–∏ 192.168.100.0 –¥–æ 172.16.100.0 :
```
![image](/screenshots/web-l_ipsec_ping.png)

#### RTR-R IPSec
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ IPSec"
```
RTR-R(config)#crypto isakmp policy 1
RTR-R(config-isakmp)#encr aes
RTR-R(config-isakmp)#authentication pre-share
RTR-R(config-isakmp)#hash sha256
RTR-R(config-isakmp)#group 14

RTR-R(config)#crypto isakmp key secret address 4.4.4.100
RTR-R(config)#crypto isakmp nat keepalive 5
RTR-R(config)#crypto ipsec transform-set IPSEC esp-aes 256 esp-sha256-hmac
RTR-R(cfg-crypto-trans)#mode tunnel

RTR-R(config)#crypto ipsec profile VTI
RTR-R(ipsec-profile)#set transform-set IPSEC

RTR-R(config)#int tun1
RTR-R(config)#tunnel mode ipsec ipv4
RTR-R(config)#tunnel protection ipsec profile VTI
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ IPSec —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤"
```
–í—ã –¥–æ–ª–∂–Ω—ã ping`–æ–≤–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–∑ –ø–æ–¥—Å–µ—Ç–∏ 172.16.100.0 –¥–æ 192.168.100.0 :
```
![image](/screenshots/web-r_ipsec_ping.png)
![image](/screenshots/web-r_ipsec_ping2.png)

###  4. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º RTR-L –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∞–≤–∏–ª–∞–º:
#### RTR-L ACL
```
RTR-L(config)#ip access-list extended Lnew
```
```
RTR-L(config-ext-nacl)#permit tcp any any established
RTR-L(config-ext-nacl)#permit tcp any host 4.4.4.100 eq 80 
RTR-L(config-ext-nacl)#permit tcp any host 4.4.4.100 eq 443 
RTR-L(config-ext-nacl)#permit tcp any host 4.4.4.100 eq 2222 
```
```
RTR-L(config-ext-nacl)#permit udp host 4.4.4.1 eq 123 any
RTR-L(config-ext-nacl)#permit udp host 4.4.4.100 eq 53 any
RTR-L(config-ext-nacl)#permit udp host 5.5.5.100 host 4.4.4.100 eq 500
```
```
RTR-L(config-ext-nacl)#permit esp any any
RTR-L(config-ext-nacl)#permit icmp any any
```
```
RTR-L(config)#int gi1 
RTR-L(config-if)#ip access-group Lnew in
```
#### RTR-R ACL
```
RTR-R(config)#ip access-list extended Rnew
RTR-R(config-ext-nacl)#permit tcp any any established
RTR-R(config-ext-nacl)#permit tcp any host 5.5.5.100 eq 80 
RTR-R(config-ext-nacl)#permit tcp any host 5.5.5.100 eq 443 
RTR-R(config-ext-nacl)#permit tcp any host 5.5.5.100 eq 2244 
```
```
RTR-R(config-ext-nacl)#permit udp host 4.4.4.100 host 5.5.5.100 eq 500
```
```
RTR-R(config-ext-nacl)#permit esp any any
RTR-R(config-ext-nacl)#permit icmp any any
```
```
RTR-R(config)#int gi1 
RTR-R(config-if)#ip access-group Rnew in
```

### 6. –û–±–µ—Å–ø–µ—á—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å–ª—É–∂–± SSH —Ä–µ–≥–∏–æ–Ω–∞ Left:
#### RTR-L SSH
```
RTR-L(config)#ip nat inside source static tcp 192.168.100.100 22 4.4.4.100 2222
```
#### RTR-R SSH
```
RTR-R(config)#ip nat inside source static tcp 172.16.100.100 22 5.5.5.100 2244
```
#### SSH WEB-L
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH"
```
1)root@WEB-L:~# apt install openssh-server ssh -y
   2)root@WEB-L:~# systemctl start sshd
      3)root@WEB-L:~# systemctl enable ssh
         4)root@WEB-L:~# nano /etc/ssh/sshd_config
            5) —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç—å —Å—Ç—Ä–æ—á–∫—É:
```
![image](/screenshots/web-l_ssh.png)
```
6) Ctrl + x
   7) Ctrl + y
      8) Enter
         9)root@WEB-L:~# systemctl restart sshd

```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ SSH"
```
–í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å CLI –¥–æ WEB-L –ø–æ SSH:
```
![image](/screenshots/cli_ssh_web-l.png)
#### SSH WEB-R
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH" 
```
1)root@WEB-R:~# apt insapt itall openssh-server ssh -y
   2)root@WEB-R:~# systemctl start sshd
      3)root@WEB-R:~# systemctl enable ssh
         4)root@WEB-R:~# nano /etc/ssh/sshd_config
            5) —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç—å —Å—Ç—Ä–æ—á–∫—É:
```
![image](/screenshots/web-r_ssh.png)
```
6) Ctrl + x
   7) Ctrl + y
      8) Enter
         9)root@WEB-R:~# systemctl restart sshd
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ SSH"
```
–í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å CLI –¥–æ WEB-R –ø–æ SSH:
```
![image](/screenshots/cli_ssh_web-r.png)
## –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–ª—É–∂–±—ã

–í —Ä–∞–º–∫–∞—Ö –¥–∞–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ
–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–ª—É–∂–±—ã –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –í–ú –Ω–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —ç—Ç–∏—Ö
—Å–ª—É–∂–± –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. 

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è DNS-—Å–∏—Å—Ç–µ–º—ã —Å—Ç–µ–Ω–¥–∞:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –í–ú ISP;
   - –û–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è –∑–æ–Ω–∞ demo.wsr
     - –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–æ–Ω—ã –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¢–∞–±–ª–∏—Ü–µ–π 2;
   - –°–µ—Ä–≤–µ—Ä –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –∑–æ–Ω—É int.demo.wsr –Ω–∞ SRV;
     - –ü–æ—Å–∫–æ–ª—å–∫—É SRV –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏ –∑–∞–ø–∞–¥–Ω–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞, –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –∞–¥—Ä–µ—Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ –¥–∞–Ω–Ω–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞. 
     - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä —Ä–µ–≥–∏–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ—Ä—Ç—ã DNS-—Å–ª—É–∂–±—ã –≤ –ø–æ—Ä—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ SRV
   - –í–Ω–µ—à–Ω–∏–π –∫–ª–∏–µ–Ω—Ç CLI –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DNS-—Å–ª—É–∂–±—É, —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—É—é –Ω–∞ ISP, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é;
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è DNS-—Å–∏—Å—Ç–µ–º—ã —Å—Ç–µ–Ω–¥–∞;
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –í–ú SRV;
   - –û–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è –∑–æ–Ω–∞ int.demo.wsr;
     - –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–æ–Ω—ã –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¢–∞–±–ª–∏—Ü–µ–π 2;
   - –û–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–æ–Ω—ã –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤ —Ä–µ–≥–∏–æ–Ω–æ–≤
     - –ò–º–µ–Ω–∞ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π —Å–ª–µ–¥—É–µ—Ç –±—Ä–∞—Ç—å –∏–∑ –¢–∞–±–ª–∏—Ü—ã 2;
   - –°–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –∏—Å—Ö–æ–¥—è—â–∏–µ –æ—Ç –∞–¥—Ä–µ—Å–æ–≤ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤;
     - –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ (–≤–Ω–µ—à–Ω–∏—Ö –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö), –æ–±—Ä–∞—â–∞—é—â–∏—Ö—Å—è –∫ –∫ –∑–æ–Ω–µ int.demo.wsr, –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –∞–¥—Ä–µ—Å—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞;
   - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ö–æ—Å—Ç—ã —Ä–µ–≥–∏–æ–Ω–æ–≤ (—Ä–∞–≤–Ω–æ –∫–∞–∫ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º) –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é DNS-—Å–ª—É–∂–±—É –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–º–µ–Ω;
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å–∏—Å—Ç–µ–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä ISP. 
   - –°–µ—Ä–≤–µ—Ä —Å—á–∏—Ç–∞–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –≤—Ä–µ–º–µ–Ω–∏ –≤–µ—Ä–Ω—ã–º, stratum=4;
   - –°–µ—Ä–≤–µ—Ä –¥–æ–ø—É—Å–∫–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π –∞–¥—Ä–µ—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º;
     - –ü–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è –æ–±—Ä–∞—â–µ–Ω–∏–µ SRV –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏;
   - –ö–ª–∏–µ–Ω—Ç CLI –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª—É–∂–±—É –≤—Ä–µ–º–µ–Ω–∏ ISP;
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–ª—É–∂–±—ã –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ SRV
   - –°–µ—Ä–≤–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –≤—Ä–µ–º—è —Å —Ö–æ—Å—Ç–æ–º ISP;
     - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –∑–∞–ø—Ä–µ—â–µ–Ω–∞;
   - –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –¥–æ–ø—É—Å–∫–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ö–æ—Å—Ç–æ–≤ —Ä–µ–≥–∏–æ–Ω–æ–≤, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º, –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏;
   - –í—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ö–æ—Å—Ç—ã (–≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º) –¥–æ–ª–∂–Ω—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–µ –≤—Ä–µ–º—è —Å SRV;
5. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ–∞–π–ª–æ–≤—ã–π SMB-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –±–∞–∑–µ SRV
   - –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø –¥–ª—è –æ–±–º–µ–Ω–∞ —Ñ–∞–π–ª–∞–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º WEB-L –∏ WEB-R;
   - –°–µ—Ä–≤–µ—Ä, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –û–°, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤:
     - /mnt/storage –¥–ª—è —Å–∏—Å—Ç–µ–º –Ω–∞ –±–∞–∑–µ Linux;
     - –î–∏—Å–∫ R:\ –¥–ª—è —Å–∏—Å—Ç–µ–º –Ω–∞ –±–∞–∑–µ Windows;
   - –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ (—Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –≤—ã—à–µ –∞–¥—Ä–µ—Å–∞–º), —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º –ø–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ RAID —Ç–∏–ø–∞ ‚Äú–ó–µ—Ä–∫–∞–ª–æ‚Äù;
6. –°–µ—Ä–≤–µ—Ä–∞ WEB-L –∏ WEB-R –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª—É–∂–±—É, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –Ω–∞ SRV, –¥–ª—è –æ–±–º–µ–Ω–∞ —Ñ–∞–π–ª–∞–º–∏ –º–µ–∂–¥—É —Å–æ–±–æ–π:
   - –°–ª—É–∂–±–∞ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –æ–±–º–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∑–≤–æ–ª—è—Ç—å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –≤–∏–¥–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Linux
     - –†–∞–∑–¥–µ–ª—è–µ–º—ã–π –∫–∞—Ç–∞–ª–æ–≥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ –∞–¥—Ä–µ—Å—É /opt/share;
   - –ö–∞—Ç–∞–ª–æ–≥ –¥–æ–ª–∂–µ–Ω –ø–æ–∑–≤–æ–ª—è—Ç—å —É–¥–∞–ª—è—Ç—å –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ –Ω–µ–º –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;
7. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ü–µ–Ω—Ç—Ä–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ –±–∞–∑–µ SRV:
   - –í —Å–ª—É—á–∞–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –±–∞–∑–µ Linux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–∏–ø–∞ OpenSSL –∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É /var/ca
   - –í—ã–¥–∞–≤–∞–µ–º—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ –Ω–µ –º–µ–Ω–µ–µ 500 –¥–Ω–µ–π;
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—ã–¥–∞–≤–∞–µ–º—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:
     - –°—Ç—Ä–∞–Ω–∞ RU;
     - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è DEMO.WSR;
     - –ü—Ä–æ—á–∏–µ –ø–æ–ª—è (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º CN) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—É—Å—Ç—ã;


## –¢–∞–±–ª–∏—Ü–∞ 2. DNS-–∑–∞–ø–∏—Å–∏ –∑–æ–Ω

|Zone            |Type                |Key             |Meaning         |
|  ------------- | -------------      | -------------  |  ------------- |
| demo.wsr       | A                  | isp            | 3.3.3.1        |
|                | A                  | www            | 4.4.4.100      |
|                | A                  | www            | 5.5.5.100      |
### 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è DNS-—Å–∏—Å—Ç–µ–º—ã —Å—Ç–µ–Ω–¥–∞:
#### ISP
1.  "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS"
```
1)root@ISP:~# apt install bind9 -y
   2)root@ISP:~# mkdir /opt/dns
      3)root@ISP:~# cp /etc/bind/db.local /opt/dns/demo.db
         4)root@ISP:~# chown -R bind:bind /opt/dns
            5)root@ISP:~# nano /etc/apparmor.d/usr.sbin.named –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ—á–∫—É /opt/dns/** rw, :
```
![image](/screenshots/apparmor.png)
```
6) Ctrl + X
   7) Ctrl + Y
      8) Enter
         9) root@ISP:~# systemctl restart apparmor.service
            10) root@ISP:~# nano /etc/bind/named.conf.options –¥–æ–±–∞–≤–∏–º –∏ –∏–∑–º–µ–Ω–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ—á–µ–∫:
```
![image](/screenshots/isp_named.png)

```
11) Ctrl + X
   12) Ctrl + Y
      13) Enter
         14)root@ISP:~# nano /etc/bind/named.conf.default-zones –¥–æ–±–∞–≤–∏–º –∏ –∏–∑–º–µ–Ω–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ—á–µ–∫:
```
![image](/screenshots/isp_zones.png)
```
15) Ctrl + X
   16) Ctrl + Y
      17) Enter
         18)root@ISP:~# nano /opt/dns/demo.db –¥–æ–±–∞–≤–∏–º –∏ –∏–∑–º–µ–Ω–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ—á–µ–∫:
```
![image](/screenshots/demo_db.png)
```
19) Ctrl + X
   20) Ctrl + Y
      21) Enter
         22)root@ISP:~# systemctl restart bind9
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ DNS"
```
root@ISP:~# systemctl status bind9
```
![image](/screenshots/isp_status_bind9.png)

#### RTR-L

b. –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä —Ä–µ–≥–∏–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ—Ä—Ç—ã DNS-—Å–ª—É–∂–±—ã –≤ –ø–æ—Ä—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ SRV.

```
RTR-L(config)#ip nat inside source static tcp 192.168.100.200 53 4.4.4.100 53
RTR-L(config)#ip nat inside source static udp 192.168.100.200 53 4.4.4.100 53
```

### 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è DNS-—Å–∏—Å—Ç–µ–º—ã —Å—Ç–µ–Ω–¥–∞;

#### SRV
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS"
```
1) Server Manager > Dashboard –õ–ö–ú –ø–æ Manage:
```
![image](/screenshots/srv_addroles_dns_1.png)
```
2) Add Roles and Features
```
![image](/screenshots/srv_addroles_dns_2.png)
```
3) Next:
```
![image](/screenshots/srv_addroles.png)
```
4) Next:
```
![image](/screenshots/srv_addroles2.png)
```
5) Next:
```
![image](/screenshots/srv_addroles3.png)
```
6) –õ–ö–ú –ø–æ DNS Server :
```
![image](/screenshots/srv_addroles_dns.png)
```
7) Add Features:
```
![image](/screenshots/srv_addroles_dns2.png)
```
8) Next:
```
![image](/screenshots/srv_addroles_dns3.png)
```
9) Next:
```
![image](/screenshots/srv_addroles_dns4.png)
```
10) Next:
```
![image](/screenshots/srv_addroles_dns5.png)
```
11) Install:
```
![image](/screenshots/srv_addroles_dns6.png)
```
12) Close:
```
![image](/screenshots/srv_addroles_dns7.png)
```
13)  Server Manager > Dashboard –õ–ö–ú –ø–æ Tools:
```
![image](/screenshots/srv_tools.png)
```
14) DNS:
```
![image](/screenshots/srv_tools2.png)
```
15) DNS
   16) SRV
      17) –ü–ö–ú –ø–æ Forward Lookup Zones, New Zone...
```
![image](/screenshots/srv_dns_manager1.png)
```
18) Next:
```
![image](/screenshots/srv_dns_manager2.png)
```
19) Next:
```
![image](/screenshots/srv_dns_manager3.png)
```
20) –≤–ø–∏—Å—ã–≤–∞–µ–º –∑–æ–Ω—É int.demo.wsr , Next:
```
![image](/screenshots/srv_dns_manager4.png)
```
21) Next:
```
![image](/screenshots/srv_dns_manager5.png)
```
22) Next:
```
![image](/screenshots/srv_dns_manager6.png)
```
23) Next:
```
![images](/screenshots/srv_dns_manager7.png)
```
24) –ü–ö–ú –ø–æ Forward Reverse Lookup Zones, New Zone..
```
![image](/screenshots/srv_dns_manager8.png)
```
25) Next:
```
![image](/screenshots/srv_dns_manager9.png)
```
26) Next: 
```
![image](/screenshots/srv_dns_manager10.png)
```
27) Next:
```
![image](/screenshots/srv_dns_manager11.png)
```
28) –í–≤–æ–¥–∏–º –∞–¥–µ—Ä—Å –∏ –Ω–∞–∂–∏–º–∞–µ–º Next:
```
![image](/screenshots/srv_dns_manager12.png)
```
29) Next:
```
![image](/screenshots/srv_dns_manager13.png)
```
30) Next:
```
![iamge](/screenshots/srv_dns_manager14.png)
```
31) Finish:
```
![iamge](/screenshots/srv_dns_manager15.png)
```
32) –ü–ö–ú –ø–æ Forward Reverse Lookup Zones, New Zone..
```
![image](/screenshots/srv_dns_manager16.png)
```
33) Next:
```
![image](/screenshots/srv_dns_manager9.png)
```
34) Next:
```
![image](/screenshots/srv_dns_manager10.png)
```
35) Next:
```
![image](/screenshots/srv_dns_manager11.png)
```
36) Next:
```
![image](/screenshots/srv_dns_manager17.png)
```
37) Next:
```
![image](/screenshots/srv_dns_manager18.png)
```
38) Next
```
![image](/screenshots/srv_dns_manager14.png)
```
39) Finish:
```
![image](/screenshots/srv_dns_manager19.png)
```
40) –ü–ö–ú –ø–æ int.demo.wsr –∏ —Å–æ–∑–¥–∞—ë–º Host`—ã –∏ Alias`—ã –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –Ω–∏–∂e:
!!!(–Ω–µ –∑–∞–±—ã–≤–∞–µ–º –ø—Ä–æ–∂–∏–º–∞—Ç—å –≥–∞–ª–æ—á–∫—É –Ω–∞ –ø—É–Ω–∫—Ç–µ - Create associated pointer (PTR) record)!!!
```
![image](/screenshots/srv_dns_newhost.png)

![image](/screenshots/srv_dns_manager20.png)
```
41) –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º VM
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ DNS"
```
–í—ã –¥–æ–ª–∂–Ω—ã ping`–æ–≤–∞—Ç—å WEB-L –∏ WEB-R –ø–æ –¥–æ–º–µ–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏ SRV
```
![image](/screenshots/web-l_dns_ping.png)
![image](/screenshots/web-r_dns_ping.png)

### 3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å–∏—Å—Ç–µ–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏:
#### ISP NTP
```
1)root@ISP:~# apt install chrony -y
   2)root@ISP:~# nano /etc/chrony/chrony.conf
      3) –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ—á–∫–∏:
```
```
local stratum 4  
allow 4.4.4.0/24
allow 3.3.3.0/24
```
![image](/screenshots/isp_chrony.png)
```
4) Ctrl + X
   5) Ctrl + Y
      6) Enter
         7)root@ISP:~# systemctl restart chronyd 
            8)root@ISP:~# reboot
```
### 4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–ª—É–∂–±—ã –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ SRV

#### CLI NTP
"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ NTP":
```
1) –ü–ö–ú –ø–æ –ø–ª–∏—Ç–∫–µ –≤—Ä–µ–º–µ–Ω–∏:
```
![image](/screenshots/cli_ntp1.png)
```
2) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Adjust data/time:
```
![image](/screenshots/cli_ntp2.png)
```
3) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Add clocks for different time zones:
```
![image](/screenshots/cli_ntp3.png)
```
3) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Internet Time, Change Settings... :
```
![image](/screenshots/cli_ntp4.png)
```
4) –í–≤–æ–¥–∏–º –∞–¥—Ä–µ—Å NTP —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞–∂–∏–º–∞–µ–º –Ω–∞ Update now –∏ –∂–¥—ë–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```
![image](/screenshots/cli_ntp5.png)

#### SRV NTP
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall`a –¥–ª—è NTP"
```
1) –õ–ö–ú –ø–æ Win –Ω–∞—Ö–æ–¥–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Windows Defender Firewall:
```
![image](/screenshots/srv_win_def.png)
```
2) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Advanced settings : 
```
![image](/screenshots/srv_def.png)
```
3) –í—ã–±–∏—Ä–∞–µ–º Inbound Rules, –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ:
```
![image](/screenshots/srv_firewall1.png)
```
4) –£–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –ø–æ—Ä—Ç–∞:
```
![image](/screenshots/srv_firewall2.png)
```
5) –£–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª –∏ –ø–æ—Ä—Ç:
```
![image](/screenshots/srv_firewall3.png)
```
6) –†–∞–∑—Ä–µ—à–∞–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```
![image](/screenshots/srv_firewall4.png)
```
7) –ü—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–∞–≤–∏–ª–æ –∫:
```
![image](/screenshots/srv_firewall5.png)
```
8) –í—ã–¥–∞–µ–º –∏–º—è –∏ –∑–∞–≤–µ—Ä—à–∞–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞:
```
![image](/screenshots/srv_firewall6.png)


2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ NTP":
```
1) –ü–ö–ú –ø–æ –ø–ª–∏—Ç–∫–µ –≤—Ä–µ–º–µ–Ω–∏:
```
![image](/screenshots/srv_ntp.png)
```
2) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Adjust data/time:
```
![image](/screenshots/srv_ntp1.png)
```
3) –ù–∞–∂–∏–º–µ–º –Ω–∞ Add clocks for different time zones:
```
![image](/screenshots/srv_ntp2.png)
```
3) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Internet Time, Change Settings... :
```
![image](/screenshots/srv_ntp3.png)
```
4) –í–≤–æ–¥–∏–º –∞–¥—Ä–µ—Å NTP —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞–∂–∏–º–∞–µ–º –Ω–∞ Update now –∏ –∂–¥—ë–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```
![image](/screenshots/srv_ntp4.png)

#### RTR-L NTP
```
RTR-L(config)#ip domain name int.demo.wsr
RTR-L(config)#ip name-server 192.168.100.200
RTR-L(config)#ntp server chrony.int.demo.wsr
```
#### RTR-R NTP
```
RTR-R(config)#ip domain name int.demo.wsr
RTR-R(config)#ip name-server 192.168.100.200
RTR-R(config)#ntp server chrony.int.demo.wsr
```
#### WEB-L NTP
```
1)root@WEB-L:~# apt install chrony -y
   2)root@WEB-L:~# nano /etc/chrony/chrony.conf
      3) –ò–∑–º–µ–Ω—è–µ–º —Å—Ç—Ä–æ—á–∫—É:
```
```
pool chrony.int.demo.wsr iburst
```

![image](/screenshots/web-l_ntp1.png)
```
4) Ctrl + x
 5) Ctrl + Y
   6) Enter
      7)root@WEB-L:~# systemctl restart chrony
         8)root@WEB-L:~# reboot
```
#### WEB-R NTP
```
1)root@WEB-R:~# apt install chrony -y
   2)root@WEB-R:~# nano /etc/chrony/chrony.conf
      3) –ò–∑–º–µ–Ω—è–µ–º —Å—Ç—Ä–æ—á–∫—É:
```
```
pool chrony.int.demo.wsr iburst
```
![image](/screenshots/web-l_ntp1.png)
```
4) Ctrl + x
 5) Ctrl + Y
   6) Enter
      7)root@WEB-R:~# systemctl restart chrony
         8)root@WEB-R:~# reboot
```

3. "–ü—Ä–æ–≤–µ—Ä–∫–∞ NTP" 
#### CLI NTP
```
1) –ü–ö–ú –ø–æ –ø–ª–∏—Ç–∫–µ –≤—Ä–µ–º–µ–Ω–∏:
```
![image](/screenshots/cli_ntp1.png)
```
2) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Adjust data/time:
```
![image](/screenshots/cli_ntp2.png)
```
3) –ù–∞–∂–∏–º–∞–µ–º  –Ω–∞ Add clocks for different time zones:
```
![image](/screenshots/cli_ntp3.png)
```
3) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Internet Time, Change Settings... :
```
![image](/screenshots/cli_ntp4.png)
```
4) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Update now –∏ –∂–¥—ë–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```
![image](/screenshots/cli_ntp6.png)

#### SRV NTP
```
1) –ü–ö–ú –ø–æ –ø–ª–∏—Ç–∫–µ –≤—Ä–µ–º–µ–Ω–∏:
```
![image](/screenshots/srv_ntp.png)
```
2) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Adjust data/time:
```
![image](/screenshots/srv_ntp1.png)
```
3) –ù–∞–∂–∏–º–µ–º –Ω–∞ Add clocks for different time zones:
```
![image](/screenshots/srv_ntp2.png)
```
3) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Internet Time, Change Settings... :
```
![image](/screenshots/srv_ntp3.png)
```
4) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Update now –∏ –∂–¥—ë–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```
![image](/screenshots/srv_ntp5.png)

#### WEB-L
```
1)root@WEB-L:~# timedatectl
   2) –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –±—ã –ø—É–Ω–∫—Ç—ã –±—ã–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:
```
![image](/screenshots/web-l_ntp.png)
```
3)root@WEB-L:~# chronyc sources
   4) –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –±—ã –±—ã–ª —Ä–µ—Å—É—Ä—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```
![image](/screenshots/web-l_ntp2.png)
#### WEB-R
```
1)root@WEB-R:~# timedatectl
   2) –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –±—ã –ø—É–Ω–∫—Ç—ã –±—ã–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:
```
![image](/screenshots/web-r_ntp.png)
```
3)root@WEB-R:~# chronyc sources
   4) –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –±—ã –±—ã–ª —Ä–µ—Å—É—Ä—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```
![image](/screenshots/web-r_ntp1.png)

### 5. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ–∞–π–ª–æ–≤—ã–π SMB-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –±–∞–∑–µ SRV
#### SRV RAID
```
1) –ü–∫–º –ø–æ WIN, –Ω–∞—Ö–æ–¥–∏–º –∏ –Ω–∞–∂–∏–º–∞–µ–º Disk Management:
```
![image](/screenshots/srv_raid.png)
```
2) –ü–ö–ú –ø–æ Disk 0, Offline :
```
![image](/screenshots/srv_raid1.png)
```
3) –ü–ö–ú –ø–æ Disk 1, Offline :
```
![image](/screenshots/srv_raid2.png)
```
4) –ü–ö–ú –ø–æ Disk 0? Initialize Disk :
```
![image](/screenshots/srv_raid3.png)
```
5) –í—ã–±–∏—Ä–∞–µ–º –æ–±–∞ –¥–∏—Å–∫–∞ 
```
![image](/screenshots/srv_raid4.png)
```
6) –ü–ö–ú –ø–æ Disk 1, New mirrored Volume... :
```
![image](/screenshots/srv_raid5.png)
```
7) Next:
```
![image](/screenshots/srv_raid6.png)
```
8) –î–æ–±–∞–≤–ª—è–µ–º –≤—Ç–æ—Ä–æ–π –¥–∏—Å–∫
```
![image](/screenshots/srv_raid7.png)
```
9) Next:
```
![image](/screenshots/srv_raid8.png)
```
10) –í—ã–¥–∞—ë–º –±—É–∫–≤—É –¥–∏—Å–∫—É 
```
![image](/screenshots/srv_raid9.png)
```
11) –í—ã–¥–∞—ë–º –∏–º—è RAID:
```
![image](/screenshots/srv_raid10.png)
```
12) Finish:
```
![image](/screenshots/srv_raid11.png)
```
13) Yes:
```
![image](/screenshots/srv_raid12.png)

#### SRV SMB
1. "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ª—É–∂–± SMB"
```
1) Server Manager > Dashboard –õ–ö–ú –ø–æ Manage:
```
![image](/screenshots/srv_smb1.png)
```
2) Add Roles and Features
```
![image](/screenshots/srv_smb2.png)
```
3) Next:
```
![image](/screenshots/srv_addroles.png)
```
4) Next:
```
![image](/screenshots/srv_addroles2.png)
```
5) Next:
```
![image](/screenshots/srv_addroles3.png)
```
6) –î–æ–±–∞–≤–ª—è–µ–º —Å–µ—Ä–≤–∏—Å File and iSCSI Services:
```
![image](/screenshots/srv_smb3.png)
```
7) Next:
```
![image](/screenshots/srv_smb4.png)
```
8) Install:
```
![image](/screenshots/srv_smb5.png)
```
9) Close:
```
![image](/screenshots/srv_smb6.png)

2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMB"
```
1) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ File and Storage Services
```
![image](/screenshots/srv_smb7.png)
```
2) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Shares:
```
![image](/screenshots/srv_smb8.png)
```
3) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ To create a file share, start the New Share Wizard :
```
![image](/screenshots/srv_smb9.png)
```
4) –í—ã–±–∏—Ä–∞–µ–º SMB Share - Quick:
```
![image](/screenshots/srv_smb10.png)
```
5) –í—ã–±–∏—Ä–∞–µ–º RAID, —Å–æ–∑–¥–∞—ë–º —Ç–∞–º –ø–∞–ø–∫—É —Å –∏–º–µ–Ω–µ–º storage:
```
![image](/screenshots/srv_smb12.png)
```
6) Next:
```
![image](/screenshots/srv_smb13.png)
```
7) –í—ã–¥–∞—ë–º –∏–º—è SMB :
```
![image](/screenshots/srv_smb14.png)
```
8) Next:
```
![image](/screenshots/srv_smb15.png)
```
9) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Customize permissions... :
```
![image](/screenshots/srv_smb16.png)
```
10) –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ Share:
```
![image](/screenshots/srv_smb17.png)
```
11) –í—ã–±–∏—Ä–∞–µ–º –∏ –∏–∑–º–µ–Ω—è–µ–º –ø—Ä–∞–≤–∏–ª–∞:
```
![image](/screenshots/srv_smb18.png)
```
12) –í—ã–¥–∞—ë–º Full Control:
```
![image](/screenshots/srv_smb19.png)
```
13) Apply –∏ OK:
```
![image](/screenshots/srv_smb20.png)
```
14) Next:
```
![image](/screenshots/srv_smb21.png)
```
15) Create:
```
![image](/screenshots/srv_smb22.png)
```
16) Close:
```
![image](/screenshots/srv_smb23.png)

### 6. –°–µ—Ä–≤–µ—Ä–∞ WEB-L –∏ WEB-R –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª—É–∂–±—É, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –Ω–∞ SRV, –¥–ª—è –æ–±–º–µ–Ω–∞ —Ñ–∞–π–ª–∞–º–∏ –º–µ–∂–¥—É —Å–æ–±–æ–π:
#### WEB-L SMB
1. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMB"
```
1)root@WEB-L:~# apt install -y cifs-utils
   2)root@WEB-L:~# nano /root/.smbclient
      3) –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ—á–∫–∏:
```
![image](/screenshots/web-l_sbm1.png)
```
4) Ctrl + X
   5) Ctrl + Y
      6) Enter
         7)root@WEB-L:~# nano /etc/fstab
            8) –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ—á–∫—É:
```
```
//srv.int.demo.wsr/smb /opt/share cifs user,rw,_netdev,credentials=/root/.smbclient 0 0
```
![image](/screenshots/web-l_sbm2.png)
```
9) Ctrl + X
   10) Ctrl + Y
      11) Enter
         12)root@WEB-L:~# mkdir /opt/share
            13)root@WEB-L:~# mount -a
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ SMB"
```
1)root@WEB-L:~# cd /opt/share
   2)root@WEB-L:~# mkdir WEB-L
      3) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—É—é –ø–∞–ø–∫—É –≤ SMB —á–µ—Ä–µ–∑ SRV:
```
![image](/screenshots/srv_smb_web-l.png)
#### WEB-R SMB
```
1)root@WEB-R:~# apt install -y cifs-utils
   2)root@WEB-R:~# nano /root/.smbclient
      3) –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ—á–∫–∏:
```
![image](/screenshots/web-l_sbm1.png)
```
4) Ctrl + X
   5) Ctrl + Y
      6) Enter
         7)root@WEB-R:~# nano /etc/fstab
            8) –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ—á–∫—É:
```
```
//srv.int.demo.wsr/smb /opt/share cifs user,rw,_netdev,credentials=/root/.smbclient 0 0
```
![image](/screenshots/web-l_sbm2.png)
```
9) Ctrl + X
   10) Ctrl + Y
      11) Enter
         12)root@WEB-R:~# mkdir /opt/share
            13)root@WEB-R:~# mount -a
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ SMB"
```
1)root@WEB-R:~# cd /opt/share
   2)root@WEB-R:~# mkdir WEB-R
      3) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—É—é –ø–∞–ø–∫—É –≤ SMB —á–µ—Ä–µ–∑ SRV:
```
![image](/screenshots/srv_smb_web-r.png)

### 7. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ü–µ–Ω—Ç—Ä–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ –±–∞–∑–µ SRV:
#### SRV ADCS

1. "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª—É–∂–± ADCS "
```
1) Server Manager > Dashboard –õ–ö–ú –ø–æ Manage:
```
![image](/screenshots/srv_smb1.png)
```
2) Add Roles and Features
```
![image](/screenshots/srv_smb2.png)
```
3) Next:
```
![image](/screenshots/srv_addroles.png)
```
4) Next:
```
![image](/screenshots/srv_addroles2.png)
```
5) Next:
```
![image](/screenshots/srv_addroles3.png)
```
6) –î–æ–±–∞–≤–ª—è–µ–º —Å–µ—Ä–≤–∏—Å Active Directory Certificate Services :
```
![image](/screenshots/srv_adcs1.png)
```
7) Add Features :
```
![image](/screenshots/srv_adcs2.png)
```
8) 
```
![image](/screenshots/srv_adcs3.png)
```
9) –î–æ–±–∞–≤–ª—è–µ–º —Å–µ—Ä–≤–∏—Å Web Server (IIS) :
```
![image](/screenshots/srv_adcs4.png)
```
10) Next:
```
![image](/screenshots/srv_adcs5.png)
```
11) Next:
```
![image](/screenshots/srv_adcs6.png)
```
12) Next:
```
![image](/screenshots/srv_adcs7.png)
```
13) –ü—Ä–æ–∂–∏–º–∞–µ–º –≥–∞–ª–æ—á–∫–∏ –Ω–∞ –ø—É–Ω–∫—Ç–∞—Ö Certification Authority –∏ Certification Authority Web Enrollment - Next:
```
![image](/screenshots/srv_adcs8.png)
```
14) Add Features:
```
![image](/screenshots/srv_adcs9.png)
```
15) Next:
```
![image](/screenshots/srv_adcs10.png)
```
16) Next:
```
![image](/screenshots/srv_adcs11.png)
```
17) Next:
```
![image](/screenshots/srv_adcs12.png)
```
18) Install:
```
![image](/screenshots/srv_adcs13.png)
```
19) Close:
```
![image](/screenshots/srv_adcs14.png)
```
20) –õ–ö–ú –ø–æ –∑–Ω–∞—á–∫—É Notifications 
```
![image](/screenshots/srv_adcs15.png)
```
21) Configure Active Directory Certificate Services on the destination server:
```
![image](/screenshots/srv_adcs16.png)
```
22) Next:
```
![image](/screenshots/srv_adcs17.png)
```
23) –ü—Ä–æ–∂–∏–º–∞–µ–º –≥–∞–ª–æ—á–∫–∏ –Ω–∞ –ø—É–Ω–∫—Ç–∞—Ö Certification Authority –∏ Certification Authority Web Enrollment - Next:
```
![image](/screenshots/srv_adcs18.png)
```
24) Next:
```
![image](/screenshots/srv_adcs19.png)
```
25) Root CA - Next:
```
![image](/screenshots/srv_adcs20.png)
```
26) Create a new private key - Next:
```
![image](/screenshots/srv_adcs21.png)
```
27) Next:
```
![image](/screenshots/srv_adcs22.png)
```
28) –í—ã–¥–∞—ë–º –∏–º—è —Ü–µ–Ω—Ç—Ä—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Demo.wsr - Next
```
![image](/screenshots/srv_adcs23.png)
```
29) Next:
```
![image](/screenshots/srv_adcs24.png)
```
30) Next:
```
![image](/screenshots/srv_adcs25.png)
```
31) Configure:
```
![image](/screenshots/srv_adcs26.png)
```
32) Close:
```
![image](/screenshots/srv_adcs27.png)


2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web Server`a"
```
1) –õ–ö–ú –ø–æ –ø–ª–∏—Ç–∫–µ Tools:
```
![image](/screenshots/srv_web1.png)
```
2) Internet Information Services (IIS) Manager:
```
![image](/screenshots/srv_web2.png)
```
3) Start Page - SRV (Srv\Administrator) - Sites - Default Web Site - Bindings
```
![image](/screenshots/srv_web3.png)
```
4) Add... :
```
![iamge](/screenshots/srv_web4.png)
```
5) –ò–∑–º–µ–Ω—è–µ–º –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ - OK:
```
![image](/screenshots/srv_web5.png)
```
6) –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π http —Å–∞–π—Ç:
```
![image](/screenshots/srv_web6.png)
```
7)  Yes:
```
![image](/screenshots/srv_web7.png)
```
8) Close:
```
![image](/screenshots/srv_web8.png)
```
9) Restart:
```
![image](/screenshots/srv_web9.png)

## –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–î–∞–Ω–Ω—ã–π –±–ª–æ–∫ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–º—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Docker
1. –û–±—Ä–∞–∑ Docker (—Å–æ–¥–µ—Ä–∂–∞—â–∏–π –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –Ω–∞ ISO-–æ–±—Ä–∞–∑–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤;
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è AppDocker0;
2. –ü–∞–∫–µ—Ç—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º ISO-–æ–±—Ä–∞–∑–µ;
3. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º ISO-–æ–±—Ä–∞–∑–µ;
4. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
   - –ö–ª–∏–µ–Ω—Ç–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è CLI (–±—Ä–∞—É–∑–µ—Ä Edge);
   - –•–æ—Å—Ç–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –Ω–∞ –í–ú WEB-L –∏ WEB-R;
   - –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ DNS-–∏–º–µ–Ω–∏ www.demo.wsr;
     - –ò–º—è –¥–æ–ª–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∞—Ç—å—Å—è –≤–æ ‚Äú–≤–Ω–µ—à–Ω–∏–µ‚Äù –∞–¥—Ä–µ—Å–∞ –í–ú —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º –≤ –æ–±–æ–∏—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö;
     - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏ –∏–ª–∏ —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é –ø–æ—Ä—Ç–æ–≤;
   - –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ TLS;
     - –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –¥–æ–≤–µ—Ä–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É —Å–∞–π—Ç–∞, –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è ‚Äú–∏—Å–∫–ª—é—á–µ–Ω–∏–π‚Äù –∏ –ø–æ–¥–æ–±–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤;
   - –ù–µ–∑–∞—â–∏—â–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–∞–Ω–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏;
5. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
   - –°–∞–π—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ (—Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –Ω–µ –±–æ–ª–µ–µ 25 —Å–µ–∫—É–Ω–¥) –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö:
     - –û—Ç–∫–∞–∑ –æ–¥–Ω–æ–π –∏–∑ –í–ú Web
     - –û—Ç–∫–∞–∑ –æ–¥–Ω–æ–π –∏–∑ –í–ú —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–æ–º. 

### 1. –û–±—Ä–∞–∑ Docker (—Å–æ–¥–µ—Ä–∂–∞—â–∏–π –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –Ω–∞ ISO-–æ–±—Ä–∞–∑–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤;

```
ESXI:
```
![image](/screenshots/esxi_docker_iso.png)

```
VMware Workstation:
```
![image](/screenshots/vmware_docker_iso.png)

### 2. –ü–∞–∫–µ—Ç—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º ISO-–æ–±—Ä–∞–∑–µ;

<span style="color:red"> –ù–µ –∑–∞–±—ã–≤–∞–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å ISO –æ–±—Ä–∞–∑ Docker`a –∫ VM WEB-L –∏ WEB-R </span>

#### WEB-L Docker

1. "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∏ –ø–æ–¥–Ω—è—Ç–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞"
```
1) root@WEB-L:~# apt-cdrom add
 2) root@WEB-L:~# apt install docker-ce -y
   3) root@WEB-L:~# systemctl start docker
      4) root@WEB-L:~# systemctl enable docker
         5) root@WEB-L:~#mkdir /mnt/app
            6) root@WEB-L:~# mount /dev/sr1 /mnt/app
               7) root@WEB-L:~# docker load < /mnt/app/app.tar
                  8) –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–æ–º–∞–Ω–¥–æ–π docker images :
```
![image](/screenshots/docker_images1(web-l).png)
```
9) –ï—Å–ª–∏ –ø–æ—è–≤–∏–ª—Å—è, —Ç–æ –ø–æ–¥–Ω–∏–º–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
   10) root@WEB-L:~# docker run --name app  -p 8080:80 -d app
```
2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞"
```
root@WEB-L:~# docker ps
```
![image](/screenshots/docker_ps1(web-l).png)

3. "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –∞–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ —Å–∏—Å—Ç–µ–º—ã"
```
1) root@WEB-L:~# docker update --restart=always <id –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞> :
```
![image](/screenshots/docker_auto(web-l).png)
```
2) root@WEB-L:~# reboot
   3) –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏–µ:
```
![image](/screenshots/docker_end(web-l).png)

#### WEB-R Docker

1. "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∏ –ø–æ–¥–Ω—è—Ç–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞"

```
1) root@WEB-R:~# apt-cdrom add
 2) root@WEB-R:~# apt install docker-ce -y
   3) root@WEB-R:~# systemctl start docker
      4) root@WEB-R:~# systemctl enable docker
         5) root@WEB-R:~#mkdir /mnt/app
            6) root@WEB-R:~# mount /dev/sr1 /mnt/app
               7) root@WEB-R:~# docker load < /mnt/app/app.tar
                  8) –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–æ–º–∞–Ω–¥–æ–π docker images :
```
![image](/screenshots/docker_images1(web-r).png)
```
9) –ï—Å–ª–∏ –ø–æ—è–≤–∏–ª—Å—è, —Ç–æ –ø–æ–¥–Ω–∏–º–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
   10) root@WEB-R:~# docker run --name app  -p 8080:80 -d app
```

2. "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞"

```
root@WEB-R:~# docker ps
```
![image](/screenshots/docker_ps1(web-r).png)

3. "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –∞–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ —Å–∏—Å—Ç–µ–º—ã"

```
1) root@WEB-R:~# docker update --restart=always <id –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞> :
```
![image](/screenshots/docker_auto(web-r).png)
```
2) root@WEB-L:~# reboot
   3) –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏–µ:
```
![image](/screenshots/docker_end(web-r).png)

#### RTR-L Docker  
1) –û—Ç–∫–ª—é—á–µ–Ω–∏–µ http —Å–µ—Ä–≤–µ—Ä–∞ 
```
RTR-L(config)#no ip http server
RTR-L(config)#no ip http secure-server
RTR-L(config)#wr
RTR-L(config)#reload
```
2) –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–≤–∏–ª–∞ NAT 
```
RTR-L(config)#ip nat inside source static tcp 192.168.100.100 80 4.4.4.100 80 
RTR-L(config)#ip nat inside source static tcp 192.168.100.100 443 4.4.4.100 443 
```

#### RTR-R Docker 
1) –û—Ç–∫–ª—é—á–µ–Ω–∏–µ http —Å–µ—Ä–≤–µ—Ä–∞ 
```
RTR-R(config)#no ip http server
RTR-R(config)#no ip http secure-server
RTR-R(config)#wr
RTR-R(config)#reload
```
2) –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–≤–∏–ª–∞ NAT 
```
RTR-R(config)#ip nat inside source static tcp 172.16.100.100 80 5.5.5.100 80  
RTR-R(config)#ip nat insid source static tcp 172.16.100.100 443 5.5.5.100 443 
```

### 3. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º ISO-–æ–±—Ä–∞–∑–µ;
–í –¥–∞–Ω–Ω–æ–π –º–æ–º–µ–Ω—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –Ω–µ—Ç, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π  —Å–∞–π—Ç

### 4. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### SRV SSL
 "–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤"

```
1) –í –±—Ä–∞—É–∑–µ—Ä–µ –≤–≤–æ–¥–∏–º —Å—Å—ã–ª–∫—É https://localhost/certsrv/ :
```
![image](/screenshots/srv_web11.png)
```
2) OK :
```
![image](/screenshots/srv_web12.png)
```
3) Request a certificate: 
```
![image](/screenshots/srv_web13.png)
```
4) advanced certificate request:
```
![image](/screenshots/srv_se1.png)
```
5) Create and sumbit a request to this CA:
```
![image](/screenshots/srv_se2.png)
```
6) Yes:
```
![image](/screenshots/srv_se3.png)
```
7) –í–≤–æ–¥–∏–º —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø—Ä–æ–∂–∏–º–∞–µ–º –≥–∞–ª–æ—á–∫–∏:
```
![image](/screenshots/srv_se4.png)
```
8) OK :
```
![image](/screenshots/srv_se5.png)
```
9) Win - Certification Authority :
```
![image](/screenshots/srv_se6.png)
```
10) Demo.wsr - Pending Requests - All Tasks - Issue : 
```
![image](/screenshots/srv_se7.png)
```
11) View the status of a pending certificate request : 
```
![image](/screenshots/srv_se8.png)
```
12) Server Authentication Certificate (...):
```
![image](/screenshots/srv_se9.png)
```
13) Yes:
```
![image](/screenshots/srv_se10.png)
```
14) Install this certificate:
```
![image](/screenshots/srv_se11.png)
```
15) Home:
```
![image](/screenshots/srv_se12.png)
```
16) Win + R
   17) –≤–≤–æ–¥–∏–º mmc 
      18) File - Add/Remove Snap-in... :
```
![image](/screenshots/srv_se13.png)
```
17) Certificates - Add>
```
![image](/screenshots/srv_se14.png)
```
18) My user account - Finish : 
```
![image](/screenshots/srv_se15.png)
```
19) Certificates - Add>
```
![image](/screenshots/srv_se16.png)
```
20) Computer account - Next>
```
![image](/screenshots/srv_se17.png)
```
21) Finish:
```
![image](/screenshots/srv_se18.png)
```
22) OK
```
![image](/screenshots/srv_se19.png)

```
23) Certificates - Current User - Personal - Certificates - www.demo.wsr - All Tasks - Export... :
```
![image](/screenshots/srv_se20.png)
```
24) Next:
```
![image](/screenshots/srv_se21.png)
```
25) Yes, export the private key - Next:
```
![image](/screenshots/srv_se29.png)
```
26) Next:
```
![image](/screenshots/srv_se30.png)
```
27) –°—Ç–∞–≤–∏–º –≥–∞–ª–æ—á–∫—É –Ω–∞ –ø—É–Ω–∫—Ç–µ Password –≤–≤–æ–¥–∏–º –ª—é–±–æ–π –ø–∞—Ä–æ–ª—å - Next:
```
![image](/screenshots/srv_se31.png)
```
28) Browse... :
```
![image](/screenshots/srv_se24.png)
```
29) –°–æ–∑–¥–∞—ë–º –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç www.pfx –≤ –ø–∞–ø–∫–µ R:\storage\
```
![image](/screenshots/srv_se32.png)
```
30) Next:
```
![image](/screenshots/srv_se33.png)
```
31) Next:
```
![image](/screenshots/srv_se34.png)
```
32) OK:
```
![image](/screenshots/srv_se35.png)
```
33) Certificates (Local C)
```
![image](/screenshots/srv_se36.png)
```
34) Certificates (Local Computer) - Personal - Certificates - All Tasks - Export... :
```
![image](/screenshots/srv_se37.png)
```
35) Next:
```
![image](/screenshots/srv_se21.png)
```
36) Next:
```
![image](/screenshots/srv_se22.png)
```
37) Next:
```
![image](/screenshots/srv_se23.png)
```
38) Browse... :
```
![image](/screenshots/srv_se24.png)
```
39) –°–æ–∑–¥–∞—ë–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç CLI.cer –≤ C:\Users\Administrator\Desktop\ :
```
![image](/screenshots/srv_se38.png)
```
40) Next:
```
![image](/screenshots/srv_se39.png)
```
41) Finish:
```
![image](/screenshots/srv_se40.png)
```
42 ) OK:
```
![image](/screenshots/srv_se36.png)

4. "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤"

![image](/screenshots/srv_se41.png)

### 5. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;

#### WEB-L SSL –∏ NGINX
```
1) root@WEB-L:~# apt install nginx -y 
   2) root@WEB-L:~# cd /opt/share
      3) root@WEB-L:/opt/share# openssl pkcs12 -nodes -nocerts -in www.pfx -out www.key
         4) root@WEB-L:/opt/share# openssl pkcs12 -nodes -nokeys -in www.pfx -out www.cer
            5) root@WEB-L:/opt/share# cp /opt/share/www.key /etc/nginx/www.key
               6) root@WEB-L:/opt/share# cp /opt/share/www.cer /etc/nginx/www.cer
                  7) root@WEB-L:/opt/share# cd /etc/nginx/
                     8) root@WEB-L:/etc/nginx# openssl rsa -in www.key -out www.key
                        9) root@WEB-L:/etc/nginx# nano /etc/nginx/sites-available/default
                           10) –ò–∑–º–µ–Ω—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–∞:
```
```
upstream backend {
      server 192.168.100.100:8080 fail_timeout=25;
      server 172.16.100. 100:8080 fail_timeout=25;
}

server {
   listen 80;
   server_name www.demo.wsr;
   return 301 https://www.demo.wsr;
}

server {
   listen 443 ssl;
   server_name www.demo.wsr;
   ss1_certificate /etc/nginx/www.cer;
   ss1_certificate_key /etc/nginx/www.key;

   location / {
      proxy_pass http://backend;
      proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      }
}
```
![image](/screenshots/web_l_back.png)
```
11) root@WEB-L:/opt/share# systemctl reload nginx
```
#### WEB-R SSL –∏ NGINX
```
1) root@WEB-R:~# apt install nginx -y 
   2) root@WEB-R:~# cd /opt/share
      3) root@WEB-R:/opt/share# cp /opt/share/www.key /etc/nginx/www.key
         4) root@WEB-R:/opt/share# cp /opt/share/www.cer /etc/nginx/www.cer
            5) root@WEB-R:/etc/nginx# openssl rsa -in www.key -out www.key
               6) root@WEB-R:/etc/nginx# nano /etc/nginx/sites-available/default
                  7) –î–æ–±–∞–≤–ª—è–µ–º –∏ –∏–∑–º–µ–Ω—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–∞:
```
```
upstream backend {
      server 192.168.100.100:8080 fail_timeout=25;
      server 172.16.100. 100:8080 fail_timeout=25;
}

server {
   listen 80;
   server_name www.demo.wsr;
   return 301 https://www.demo.wsr;
}

server {
   listen 443 ssl;
   server_name www.demo.wsr;
   ss1_certificate /etc/nginx/www.cer;
   ss1_certificate_key /etc/nginx/www.key;

   location / {
      proxy_pass http://backend;
      proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      }
}
```
![image](/screenshots/web_l_back.png)
```
8) root@WEB-R:/opt/share# systemctl reload nginx
```


#### 6. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. "–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏–∑ share –Ω–∞ CLI"
##### SRV SSL
```
1) –ü–µ—Ä–µ–Ω–æ—Å–∏–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç CLI.cer –≤ –ø–∞–ø–∫—É share : 
```
![image](/screenshots/srv_ssl1.png)

##### CLI SSH-SSL
```
1) WIN + R 
   2) –í–≤–æ–¥–∏–º cmd 
      3) –ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º  –∫–æ–º–∞–Ω–¥—É scp -P 2222 root@4.4.4.100:/opt/share/CLI.cer C:\Users\CLI\Desktop\
         4) –í–≤–æ–¥–∏–º –ø–∞—Ä–æ–ª—å –æ—Ç WEB-L :
```
![image](/screenshots/cli_ssh_ssl3.png)

2. "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤"
#### CLI Cert
```
1) –ü–ö–ú –ø–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É CLI.cer - install certificate : 
```
![image](/screenshots/cli_inst_ssl1.png)
```
2) Local Machine - Next :
```
![image](/screenshots/cli_inst_ssl2.png)
```
3) Place all certificates in the following store - Browse... :
```
![image](/screenshots/cli_inst_ssl3.png)
```
4) Trusted Root Certification Authorities:
```
![image](/screenshots/cli_inst_ssl4.png)
```
5) Next:
```
![image](/screenshots/cli_inst_ssl5.png)
```
6) Finish:
```
![image](/screenshots/cli_inst_ssl6.png)
```
7) OK:
```
![image](/screenshots/cli_inst_ssl7.png)

3. "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"

```
–ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é —Å—Ç–µ–Ω–¥–∞ (–º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –ø–æ SSH –∫ —Å—Ç–µ–Ω–¥—É)

–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Gosha.ova (–Ω–∞ 10.02.2023): 
        1) –î–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è - v.1.7
        2) –î–ª—è —É—á–µ–±–Ω—ã—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏–π - v1.8.1
```
##### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –≤–µ—Ä—Å–∏–∏ 1.8.x
```
1) –ó–∞–ø—É—Å–∫–∞–µ–º –±—Ä–∞—É–∑–µ—Ä Edge 
   2) –í–≤–æ–¥–∏–º –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ —Å—Å—ã–ª–∫–µ http://www.demo.wsr/
```
![image](/screenshots/cli_end1.png)
```
3) –î–æ–ª–∂–µ–Ω –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å http –Ω–∞ https, –∏ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```
![image](/screenshots/cli_end2.png)

##### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –≤–µ—Ä—Å–∏–∏ 1.7.x
```
1) –ó–∞–ø—É—Å–∫–∞–µ–º –±—Ä–∞—É–∑–µ—Ä IE(Internet Explorer) 
   2) –í–≤–æ–¥–∏–º –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ —Å—Å—ã–ª–∫–µ http://www.demo.wsr/
```
![image](/screenshots/cli_end3.png)
```
3) –î–æ–ª–∂–µ–Ω –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å http –Ω–∞ https, –∏ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```
![image](/screenshots/cli_end4.png)
